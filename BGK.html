<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Ch·∫•m ƒëi·ªÉm</title>
<style>
body{font-family:Arial;text-align:center;background:#0f172a;color:white;padding:20px}
select,input,button{padding:12px;margin:10px;font-size:18px;border-radius:8px;border:none}
button{background:#22c55e;color:white;cursor:pointer}
</style>
</head>
<body>

<h2>üì± Trang ch·∫•m ƒëi·ªÉm</h2>

<select id="performance">
<option>Ti·∫øt m·ª•c 1</option>
<option>Ti·∫øt m·ª•c 2</option>
<option>Ti·∫øt m·ª•c 3</option>
</select><br>

<input type="text" id="judge" placeholder="T√™n gi√°m kh·∫£o"><br>
<input type="number" id="score" min="0" max="10" placeholder="ƒêi·ªÉm (0-10)"><br>

<button onclick="submitScore()">G·ª≠i ƒëi·ªÉm</button>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
import { getDatabase, ref, set, get } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "D√ÅN_API_KEY",
  authDomain: "PROJECT_ID.firebaseapp.com",
  databaseURL: "https://PROJECT_ID-default-rtdb.firebaseio.com",
  projectId: "PROJECT_ID",
  appId: "APP_ID"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

window.submitScore = async function(){
  const performance = document.getElementById("performance").value;
  const judge = document.getElementById("judge").value.trim();
  const score = parseFloat(document.getElementById("score").value);

  if(!judge){ alert("Nh·∫≠p t√™n gi√°m kh·∫£o!"); return; }

  const scoreRef = ref(db, "scores/"+performance+"/"+judge);

  const snapshot = await get(scoreRef);
  if(snapshot.exists()){
    alert("Gi√°m kh·∫£o ƒë√£ ch·∫•m r·ªìi!");
    return;
  }

  await set(scoreRef,{score:score});
  alert("ƒê√£ g·ª≠i ƒëi·ªÉm!");
}
</script>
</body>
</html>
